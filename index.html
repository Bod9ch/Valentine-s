<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–î–ª—è –ù–∞—Ç–∏</title>
  <style>
    :root{
      --bg:#ffffff;
      --fg:#111111;
      --muted:#6b6b6b;
      --red:#d00000;
      --green:#0b7a34;
      --border:#e6e6e6;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }

    *{ box-sizing:border-box; margin:0; padding:0; }
    html,body{ 
      height:100%; 
      width:100%;
      overflow:hidden;
    }
    body{
      font-family:var(--sans);
      background:var(--bg);
      color:var(--fg);
      display:flex;
      flex-direction:column;
    }

    /* DNA Background */
    #dnaCanvas{
      position:fixed;
      inset:0;
      z-index:0;
      pointer-events:none;
      opacity:0;
      transition:opacity 0.5s;
    }
    #dnaCanvas.active{ opacity:0.15; }

    /* Main Container - Full Screen */
    .app{
      position:relative;
      z-index:1;
      width:100%;
      height:100%;
      display:flex;
      flex-direction:column;
    }

    /* Header with Progress */
    header{
      padding:34px 40px;
      border-bottom:1px solid var(--border);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:20px;
      background:rgba(255,255,255,0.95);
      backdrop-filter:blur(10px);
    }

    .brand{
      display:flex;
      flex-direction:column;
      gap:4px;
    }
    .brand .title{
      font-weight:700;
      font-size:18px;
      letter-spacing:0.3px;
    }
    .brand .subtitle{
      font-size:13px;
      color:var(--muted);
    }

    .progress{
      display:flex;
      align-items:center;
      gap:12px;
    }

    /* Navigation Buttons */
    .nav-btn{
      width:36px;
      height:36px;
      border-radius:50%;
      border:2px solid #d7d7d7;
      background:#fff;
      color:#111;
      font-size:18px;
      font-weight:700;
      cursor:pointer;
      transition:all 0.2s ease;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:0;
    }
    .nav-btn:hover:not(:disabled){
      background:#fafafa;
      transform:scale(1.1);
      box-shadow:0 4px 12px rgba(0,0,0,0.08);
    }
    .nav-btn:active:not(:disabled){
      transform:scale(1);
    }
    .nav-btn:disabled{
      opacity:0.3;
      cursor:not-allowed;
      transform:none;
    }

    .bar{
      width:200px;
      height:8px;
      background:#eee;
      border-radius:999px;
      overflow:hidden;
      border:1px solid #e9e9e9;
    }
    .bar > div{
      height:100%;
      width:0%;
      background:#111;
      border-radius:999px;
      transition:width 0.4s ease;
    }
    .stepText{
      font-size:13px;
      color:var(--muted);
      font-family:var(--mono);
      min-width:60px;
    }

    /* Main Content Area */
    main{
      flex:1;
      position:relative;
      overflow:hidden;
    }

    .screen{
      position:absolute;
      inset:0;
      display:none;
      animation: fadeIn 0.4s ease;
      padding:60px 80px;
      overflow-y:auto;
    }
    .screen.active{ display:flex; }

    @keyframes fadeIn{
      from{ opacity:0; transform:translateY(10px); }
      to{ opacity:1; transform:translateY(0); }
    }

    /* Screen Layout */
    .screen-content{
      width:100%;
      max-width:1000px;
      margin:0 auto;
      display:flex;
      flex-direction:column;
      gap:30px;
    }

    h1{
      font-size:52px;
      font-weight:800;
      line-height:1.1;
      letter-spacing:-0.5px;
      margin:0;
    }

    h2{
      font-size:36px;
      font-weight:700;
      line-height:1.2;
      margin:0;
    }

    p{
      font-size:18px;
      line-height:1.6;
      color:var(--muted);
      margin:0;
    }

    /* Input Field */
    .input-group{
      display:flex;
      flex-direction:column;
      gap:12px;
      max-width:500px;
    }

    input[type="text"], textarea{
      font-size:18px;
      padding:16px 20px;
      border-radius:16px;
      border:2px solid #dadada;
      outline:none;
      background:#fff;
      transition:all 0.2s;
      font-family:var(--sans);
      resize:vertical;
    }
    input[type="text"]:focus, textarea:focus{
      border-color:#111;
      box-shadow:0 0 0 4px rgba(17,17,17,0.08);
    }

    textarea{
      min-height:100px;
    }

    /* Questions Form */
    .questions-form{
      display:flex;
      flex-direction:column;
      gap:30px;
      max-width:700px;
    }

    .question-item{
      display:flex;
      flex-direction:column;
      gap:10px;
    }

    .question-item label{
      font-size:16px;
      font-weight:600;
      color:var(--fg);
    }

    /* Buttons */
    .btn{
      appearance:none;
      border:2px solid #d7d7d7;
      background:#fff;
      color:#111;
      padding:16px 32px;
      border-radius:16px;
      cursor:pointer;
      font-weight:700;
      font-size:16px;
      letter-spacing:0.3px;
      transition:all 0.15s ease;
      user-select:none;
      min-height:56px;
      font-family:var(--sans);
    }
    .btn:hover:not(:disabled){ 
      background:#fafafa;
      transform:translateY(-1px);
    }
    .btn:active:not(:disabled){ transform:translateY(0); }
    .btn.primary{
      background:#111;
      border-color:#111;
      color:#fff;
      margin-bottom: 20px;
    }
    .btn.primary:hover:not(:disabled){ 
      background:#000;
      box-shadow:0 4px 12px rgba(0,0,0,0.15);
    }
    .btn.green{
      background:var(--green);
      border-color:var(--green);
      color:#fff;
    }
    .btn.green:hover:not(:disabled){
      background:#0a6b2e;
      box-shadow:0 4px 12px rgba(11,122,52,0.3);
    }
    .btn.no{
      border-color:var(--red);
      color:var(--red);
    }
    .btn:disabled{
      opacity:0.4;
      cursor:not-allowed;
      transform:none;
      background:#e5e5e5;
      border-color:#e5e5e5;
      color:#999;
    }

    .actions{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-top:10px;
    }

    .hint{
      font-size:14px;
      color:var(--muted);
      font-style:italic;
    }

    .error{
      color:var(--red);
      font-size:15px;
      font-weight:600;
      min-height:24px;
    }

    /* Slider */
    .slider-container{
      max-width:700px;
      margin:40px 0;
    }

    .slider-labels{
      display:flex;
      justify-content:space-between;
      margin-bottom:20px;
      font-size:14px;
      font-weight:600;
      color:var(--muted);
    }

    .slider-track{
      position:relative;
      height:12px;
      background:#e5e5e5;
      border-radius:999px;
      cursor:pointer;
    }

    .slider-fill{
      position:absolute;
      left:0;
      top:0;
      height:100%;
      background:#111;
      border-radius:999px;
      width:0%;
      transition:width 0.2s ease;
    }

    .slider-thumb{
      position:absolute;
      top:50%;
      left:0%;
      width:32px;
      height:32px;
      background:#111;
      border:4px solid #fff;
      border-radius:50%;
      transform:translate(-50%, -50%);
      cursor:grab;
      box-shadow:0 2px 8px rgba(0,0,0,0.2);
      transition:transform 0.2s ease;
    }
    .slider-thumb:active{ 
      cursor:grabbing;
      transform:translate(-50%, -50%) scale(1.1);
    }

    /* Text Animation */
    .text-appear{
      font-size:22px;
      line-height:1.7;
      max-width:800px;
      margin:40px 0;
      text-align:left;
    }

    .text-appear .word{
      display:inline-block;
      opacity:0;
      animation:wordAppear 0.4s ease forwards;
      margin:0 4px;
    }

    @keyframes wordAppear{
      from{ opacity:0; transform:translateY(10px); }
      to{ opacity:1; transform:translateY(0); }
    }

    /* Quote - BOLD UPPERCASE –Ω–∞ –ø—ñ–≤ –µ–∫—Ä–∞–Ω—É */
    .quote-container{
      max-width:900px;
      margin:40px auto;
      text-align:center;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      min-height:50vh;
    }

    .quote-text{
      font-size:64px;
      line-height:1.2;
      font-style:normal;
      font-weight:900;
      text-transform:uppercase;
      color:var(--fg);
      margin-bottom:40px;
      letter-spacing:2px;
    }

    .quote-text .word{
      display:inline-block;
      opacity:0;
      animation:wordAppear 0.3s ease forwards;
      margin:0 12px 0 0;
    }

    .quote-author{
      font-size:28px;
      color:var(--muted);
      font-style:normal;
      font-weight:600;
      margin-top:20px;
      letter-spacing:3px;
    }

    /* Leaves Animation */
    .leaf{
      position:fixed;
      width:30px;
      height:30px;
      background:#0b7a34;
      border-radius:50% 0;
      opacity:0.7;
      z-index:100;
      pointer-events:none;
    }

    @keyframes leafFall{
      to{
        transform:translateY(100vh) rotate(360deg);
        opacity:0;
      }
    }

    /* Camera */
    .camera-container{
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:30px;
      margin:40px 0 20px 0;
    }

    .camera{
      width:200px;
      height:200px;
      border:8px solid #111;
      border-radius:50%;
      display:flex;
      align-items:center;
      justify-content:center;
      position:relative;
      background:#fff;
    }

    .camera-lens{
      width:120px;
      height:120px;
      border-radius:50%;
      background:linear-gradient(135deg, #333, #666);
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:48px;
      font-weight:900;
      color:#fff;
    }

    .camera-flash{
      position:fixed;
      inset:0;
      background:#fff;
      opacity:0;
      pointer-events:none;
      z-index:1000;
    }

    .camera-flash.active{
      animation:flash 0.3s ease;
    }

    @keyframes flash{
      0%{ opacity:0; }
      50%{ opacity:1; }
      100%{ opacity:0; }
    }

    /* Transition Word */
    .transition-word{
      font-size:72px;
      font-weight:900;
      text-align:center;
      opacity:0;
    }

    .transition-word.show{
      animation:fadeInOut 3s ease;
    }

    @keyframes fadeInOut{
      0%{ opacity:0; transform:scale(0.95); }
      20%{ opacity:1; transform:scale(1); }
      80%{ opacity:1; transform:scale(1); }
      100%{ opacity:0; transform:scale(1.05); }
    }

    /* Big Ask */
    .big-ask{
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      gap:40px;
      min-height:70vh;
    }

    .big-ask-text{
      font-size:64px;
      font-weight:900;
      text-transform:uppercase;
      letter-spacing:2px;
      text-align:center;
      line-height:1.1;
    }

    .big-ask-buttons{
      display:flex;
      gap:20px;
    }

    .shake{
      animation:shake 0.4s ease;
    }

    @keyframes shake{
      0%,100%{ transform:translateX(0); }
      20%{ transform:translateX(-8px); }
      40%{ transform:translateX(8px); }
      60%{ transform:translateX(-6px); }
      80%{ transform:translateX(6px); }
    }

    .toast{
      position:fixed;
      bottom:40px;
      left:50%;
      transform:translateX(-50%);
      background:#111;
      color:#fff;
      padding:16px 24px;
      border-radius:999px;
      font-size:15px;
      opacity:0;
      pointer-events:none;
      transition:opacity 0.3s ease;
      box-shadow:0 10px 30px rgba(0,0,0,0.2);
      z-index:1001;
    }
    .toast.show{ opacity:1; }

    /* Sticker */
    .sticker{
      background:#fff5cc;
      padding:40px;
      border-radius:8px;
      box-shadow:0 10px 40px rgba(0,0,0,0.15);
      max-width:600px;
      margin:40px auto 20px auto;
      transform:rotate(-2deg);
      position:relative;
      opacity:0;
      animation:stickerFly 1s ease forwards;
    }

    @keyframes stickerFly{
      from{
        opacity:0;
        transform:translateX(-100vw) rotate(-45deg);
      }
      to{
        opacity:1;
        transform:translateX(0) rotate(-2deg);
      }
    }

    .sticker h3{
      font-size:24px;
      margin-bottom:20px;
      color:#111;
    }

    .sticker ol{
      list-style:none;
      counter-reset:item;
      margin:0 0 30px 0;
      padding:0;
    }

    .sticker li{
      counter-increment:item;
      font-size:18px;
      line-height:1.6;
      margin:12px 0;
      padding-left:40px;
      position:relative;
      color:#111;
    }

    .sticker li::before{
      content:"[" counter(item) "]";
      position:absolute;
      left:0;
      font-weight:700;
      color:var(--red);
    }

    .sticker .fine-print{
      font-size:12px;
      color:#666;
      line-height:1.5;
      margin-top:20px;
      padding-top:20px;
      border-top:1px dashed #ccc;
    }

    /* Pinata */
    .pinata-container{
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:30px;
      margin:30px 0 20px 0;
    }

    .pinata{
      width:200px;
      height:250px;
      background:linear-gradient(45deg, #ff6b6b, #ff8787, #ffa5a5);
      border-radius:50% 50% 50% 50% / 60% 60% 40% 40%;
      position:relative;
      cursor:pointer;
      transition:transform 0.2s ease;
      box-shadow:0 10px 30px rgba(255,107,107,0.4);
    }

    .pinata:hover{
      transform:scale(1.05) rotate(2deg);
    }

    .pinata::before{
      content:"üéâ";
      position:absolute;
      top:50%;
      left:50%;
      transform:translate(-50%, -50%);
      font-size:80px;
    }

    .pinata.cracked{
      background:linear-gradient(45deg, #ff4444, #ff6666, #ff8888);
      animation:pinataShake 0.3s ease;
    }

    @keyframes pinataShake{
      0%,100%{ transform:rotate(0deg); }
      25%{ transform:rotate(-5deg); }
      75%{ transform:rotate(5deg); }
    }

    .confetti-piece{
      position:fixed;
      width:10px;
      height:10px;
      z-index:2000;
      pointer-events:none;
    }

    @keyframes confettiFall{
      from{
        transform:translate(0, 0) rotate(0deg);
        opacity:1;
      }
      to{
        transform:translate(var(--tx, 0), var(--ty, 100vh)) rotate(720deg);
        opacity:0;
      }
    }

    /* Responsive */
    @media (max-width: 1024px){
      .screen{ padding:40px 40px; }
      h1{ font-size:42px; }
      h2{ font-size:30px; }
      .big-ask-text{ font-size:48px; }
      .quote-text{ font-size:48px; }
    }

    @media (max-width: 768px){
      header{ padding:24px 20px; }
      .screen{ padding:30px 20px; }
      h1{ font-size:36px; }
      h2{ font-size:26px; }
      p{ font-size:16px; }
      .big-ask-text{ font-size:36px; }
      .bar{ width:120px; }
      .text-appear{ font-size:18px; }
      .quote-text{ font-size:36px; }
      .quote-author{ font-size:20px; }
    }
  </style>
</head>
<body>
  <canvas id="dnaCanvas"></canvas>
  
  <div class="app">
    <header>
      <div class="brand">
        <div class="title">–î–ª—è –æ–¥–Ω—ñ—î—ó –æ—Å–æ–±–ª–∏–≤–æ—ó –ª—é–¥–∏–Ω–∏ </div>
        <div class="subtitle">–Ø–∫—â–æ —Ç–∏ –Ω–µ –ù–∞—Ç–∞ ‚Äî —Ü–µ–π —Å–∞–π—Ç –Ω–µ –¥–ª—è —Ç–µ–±–µ</div>
      </div>
      <div class="progress">
        <!-- <button class="nav-btn" id="prevBtn" title="–ù–∞–∑–∞–¥">‚Üê</button>-->
        <div class="bar">
          <div id="progressFill"></div>
        </div>
        <div class="stepText" id="stepText">1/9</div>
        <!-- <button class="nav-btn" id="nextBtn" title="–í–ø–µ—Ä–µ–¥">‚Üí</button>-->
      </div>
    </header>

    <main>
      <!-- Screen 1: Name Input -->
      <section class="screen active" data-screen="name">
        <div class="screen-content">
          <h1>–í–≤–µ–¥–∏ —Å–≤–æ—î —ñ–º'—è</h1>
          <p>–¶–µ —Å–∞–π—Ç –ª–∏—à–µ –¥–ª—è –æ–¥–Ω—ñ—î—ó –ª—é–¥–∏–Ω–∏. –Ø–∫—â–æ —Ç–∏ "—Ç–∞ —Å–∞–º–∞" ‚Äî —Ç–∏ —Ç–æ—á–Ω–æ –∑–Ω–∞—î—à, —â–æ —Ç—É—Ç –Ω–∞–ø–∏—Å–∞—Ç–∏ üôÇ</p>
          
          <div class="input-group">
            <input 
              type="text" 
              id="nameInput" 
              placeholder="—Ç–≤–æ—î —ñ–º'—è" 
              autocomplete="off"
            />
            <div class="error" id="nameError"></div>
          </div>

          <div class="actions">
            <div></div>
            <button class="btn primary" id="nameBtn" disabled>–î–∞–ª—ñ</button>
          </div>
        </div>
      </section>

      <!-- Screen 2: Slider -->
      <section class="screen" data-screen="slider">
        <div class="screen-content">
          <h2>–ù–∞—à–∞ –ø–æ–¥–æ—Ä–æ–∂ –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è, –≥–æ—Ç–æ–≤–∞?</h2>
          
          <div class="slider-container">
            <div class="slider-labels">
              <span>what the hell is this</span>
              <span>I'm super excited</span>
            </div>
            <div class="slider-track" id="sliderTrack">
              <div class="slider-fill" id="sliderFill"></div>
              <div class="slider-thumb" id="sliderThumb"></div>
            </div>
          </div>

          <div class="actions">
            <div class="hint">–ü–µ—Ä–µ—Ç—è–≥–Ω–∏ –ø–æ–≤–∑—É–Ω–æ–∫, —â–æ–± –ø—Ä–æ–¥–æ–≤–∂–∏—Ç–∏</div>
            <button class="btn primary" id="sliderBtn" disabled>–î–∞–ª—ñ</button>
          </div>
        </div>
      </section>

      <!-- Screen 3: Questions -->
      <section class="screen" data-screen="questions">
        <div class="screen-content">
          <h2>–ö—ñ–ª—å–∫–∞ –ø–∏—Ç–∞–Ω—å</h2>
          <p>–í—ñ–¥–ø–æ–≤—ñ–¥–∞–π —Ç–∞–∫, —è–∫ –¥—É—à–∞ –∑–∞–±–∞–∂–∞—î üôÇ</p>
          
          <form class="questions-form" id="questionsForm">
            <div class="question-item">
              <label for="q1">–Ø–∫–∞ —Ç–≤–æ—è —É–ª—é–±–ª–µ–Ω–∞ –ø—ñ—Å–Ω—è Montell Fish?</label>
              <input id="q1" type="text" name="q1" required />
            </div>
          
            <div class="question-item">
              <label for="q2">–í —è–∫—ñ–π –ø–µ—á–µ—Ä—ñ —Ç–∏ –±–∏ —Ö–æ—Ç—ñ–ª–∞ –ø–æ–±—É–≤–∞—Ç–∏?</label>
              <input id="q2" type="text" name="q2" required />
            </div>
          
            <div class="question-item">
              <label for="q3">–Ø–∫–±–∏ –≤ —Ç–µ–±–µ –±—É–ª–∞ —Å—É–ø–µ—Ä—Å–∏–ª–∞, —è–∫–æ—é –±–∏ –≤–æ–Ω–∞ –±—É–ª–∞ —Ç–∞ —è–∫ –±–∏ —Ç–∏ —ó—ó –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–ª–∞?</label>
              <textarea id="q3" name="q3" required rows="4"></textarea>
            </div>
          
            <div class="question-item">
              <label for="q4">–Ø–∫ –º–æ–∂–Ω–∞ –±—É—Ç–∏ —Ç–∞–∫–æ—é –≥–∞—Ä–Ω–æ—é?</label>
              <input id="q4" type="text" name="q4" required />
            </div>
          </form>

          <div class="actions">
            <div></div>
            <button class="btn primary" id="questionsBtn" disabled>–î–∞–ª—ñ</button>
          </div>
        </div>
      </section>

      <!-- Screen 4: Text Animation -->
      <section class="screen" data-screen="text">
        <div class="screen-content">
          <div class="text-appear" id="textContainer"></div>
        </div>
      </section>

      <!-- Screen 5: Camera -->
      <section class="screen" data-screen="camera">
        <div class="screen-content">
          <div class="camera-container" id="cameraContainer">
            <h2>–£—Å–º—ñ—Ö–∞–π—Å—è, —Ç–æ–±—ñ –ª–∏—á–∏—Ç—å.</h2>
            <div class="camera">
              <div class="camera-lens" id="cameraCountdown">7</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Screen 6: Transition -->
      <section class="screen" data-screen="transition">
        <div class="screen-content" style="justify-content:center; align-items:center; min-height:60vh;">
          <div class="transition-word" id="transitionWord">–û—Ç–æ–∂</div>
        </div>
      </section>

      <!-- Screen 7: Big Ask -->
      <section class="screen" data-screen="ask">
        <div class="screen-content">
          <div class="big-ask">
            <div class="big-ask-text">
              WILL YOU BE MY DATE<br>FOR KAVALERKA?
            </div>
            <div class="big-ask-buttons">
              <button class="btn green" id="yesBtn">YES</button>
              <button class="btn no" id="noBtn">NO</button>
            </div>
          </div>
        </div>
      </section>

      <!-- Screen 8: Final Instructions -->
      <section class="screen" data-screen="final">
        <div class="screen-content">
          <div class="sticker">
            <h3>–Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è:</h3>
            <ol>
              <li>–ó–∞—Ö–æ–¥—å –¥–æ –∫–∞—Ñ–µ—Ç–µ—Ä—ñ—é</li>
              <li>–°–∫–∞–∂–∏ –∫–æ–¥–æ–≤–µ —Å–ª–æ–≤–æ ¬´–ö–∞–≤–∞ –∑ –í–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ—é¬ª</li>
              <li>–£–≤–∞–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞–π, —â–æ —Ç–∞–º –ø–∏—à–µ</li>
            </ol>
            <div class="fine-print">
              –ó–∞ —É–º–æ–≤–∞–º–∏ –∞–∫—Ü—ñ—ó —Ç–∏ –º–æ–∂–µ—à –æ–±—Ä–∞—Ç–∏ –±—É–¥—å-—è–∫—É –∫–∞–≤—É —Ç–∞ —Å–æ–ª–æ–¥–∫–µ –∑ –∫–∞—Ñ–µ—Ç–µ—Ä—ñ—é –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ. 
              –ê–∫—Ü—ñ—è –¥—ñ—î –ª–∏—à–µ 14 –ª—é—Ç–æ–≥–æ. –ó–º—ñ—Å—Ç –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–∏ —Ç–µ–∂ —Ä–∞–¥–∏–º–æ –ø—Ä–æ—á–∏—Ç–∞—Ç–∏. 
              –ó–∞ —Å–∫–∞—Ä–≥–∞–º–∏ —Ç–∞ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—è–º–∏ –∑–≤–µ—Ä—Ç–∞–π—Ç–µ—Å—è –¥–æ –¢–û–í ¬´–ë–æ–≥–¥–∞–Ω ‚Äî –±–æ–≥–æ–º –¥–∞–Ω¬ª. 
              2026, –≤—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Å—Ç–µ—Ä–µ–∂–µ–Ω–æ.
            </div>
          </div>

          <div class="pinata-container">
            <p style="font-size:18px; color:var(--muted); font-weight:600;">–ê —Ç–µ–ø–µ—Ä —Ä–æ–∑–±–∏–π –ø—ñ–Ω—å—è—Ç—É! (10 —É–¥–∞—Ä—ñ–≤) üéä</p>
            <div class="pinata" id="pinata"></div>
            <p id="pinataHits" style="font-size:16px; color:var(--muted); font-weight:600;">–ó–∞–ª–∏—à–∏–ª–æ—Å—å: 10</p>
          </div>

          <div class="actions">
            <div></div>
            <button class="btn primary" id="finalNext">–î–∞–ª—ñ</button>
          </div>
        </div>
      </section>

      <!-- Screen 9: Quote -->
      <section class="screen" data-screen="quote">
        <div class="screen-content">
          <div class="quote-container">
            <div class="quote-text" id="quoteText"></div>
            <div class="quote-author">‚Äî Bohdan</div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <div class="camera-flash" id="cameraFlash"></div>
  <div class="toast" id="toast"></div>

  <script>
    'use strict';

    // Loggging events
    const LOG_URL = "https://script.google.com/macros/s/AKfycby8t-064OAa3YPEdNxXHTYc6PaM7RwZFErkzZOmTuwUsBS7HF8je-G0-m2Zcpa_W8EB/exec";
    const LOG_SECRET = "1234568790";
      
    // Toggle this if you ever want to silence logs quickly
    const LOG_DEBUG = true;
    
    function logDebug(...args) {
      if (!LOG_DEBUG) return;
      console.log("[LOG]", ...args);
    }
    function logWarn(...args) {
      if (!LOG_DEBUG) return;
      console.warn("[LOG]", ...args);
    }
    function logErr(...args) {
      if (!LOG_DEBUG) return;
      console.error("[LOG]", ...args);
    }
    
    function logEvent(event, { screen = "", value = "", details = {} } = {}) {
      const payload = {
        secret: LOG_SECRET,
        ts: new Date().toISOString(),
        event,
        screen,
        value,
        details,
        userAgent: navigator.userAgent
      };
    
      console.log("[LOG] sending", payload);
    
      const body = JSON.stringify(payload);
    
      // Prefer beacon
      try {
        if (navigator.sendBeacon) {
          const ok = navigator.sendBeacon(
            LOG_URL,
            new Blob([body], { type: "text/plain;charset=utf-8" })
          );
          console.log("[LOG] sendBeacon result:", ok);
          return;
        }
      } catch (err) {
        console.warn("[LOG] sendBeacon threw", err);
      }
    
      // Fallback: "fire and forget" POST (opaque)
      fetch(LOG_URL, {
        method: "POST",
        mode: "no-cors",
        keepalive: true,
        headers: { "Content-Type": "text/plain;charset=utf-8" },
        body
      })
        .then(() => console.log("[LOG] no-cors fetch sent (opaque)"))
        .catch((err) => console.error("[LOG] no-cors fetch failed", err));
    }
    
    // Optional: call this once on load to verify the POST path works
    function logBoot() {
      logEvent("boot", { screen: "init", details: { href: location.href } });
    }

    let sliderInited = false;
    let questionsInited = false;
    let pinataInited = false;

    const SCREENS = ['name', 'slider', 'questions', 'text', 'camera', 'transition', 'ask', 'final', 'quote'];
    let currentScreen = 0;

    const progressFill = document.getElementById('progressFill');
    const stepText = document.getElementById('stepText');

    function updateProgress() {
      const pct = ((currentScreen + 1) / SCREENS.length) * 100;
      progressFill.style.width = pct + '%';
      stepText.textContent = `${currentScreen + 1}/${SCREENS.length}`;
      updateNavButtons();
    }

    function showScreen(index) {
      document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
      const screen = document.querySelector(`[data-screen="${SCREENS[index]}"]`);
      if (screen) {
        screen.classList.add('active');
        currentScreen = index;
        updateProgress();

        if (SCREENS[index] === 'slider' && !sliderInited) {
          initSlider();
          sliderInited = true;
        }
        if (SCREENS[index] === 'questions' && !questionsInited) {
          initQuestions();
          questionsInited = true;
        }
        if (SCREENS[index] === 'text') startTextAnimation();
        if (SCREENS[index] === 'camera') startCameraCountdown();
        if (SCREENS[index] === 'transition') showTransition();
        if (SCREENS[index] === 'final' && !pinataInited) {
          initPinata();
          pinataInited = true;
        }
        if (SCREENS[index] === 'quote') startQuote();

        logEvent("screen_view", { screen: SCREENS[index] });
      }
    }

    function nextScreen() {
      if (currentScreen < SCREENS.length - 1) {
        showScreen(currentScreen + 1);
      }
    }

    // Navigation buttons
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');

    if (prevBtn) {
      prevBtn.addEventListener('click', () => {
        if (currentScreen > 0) showScreen(currentScreen - 1);
      });
    }

    if (nextBtn) {
      nextBtn.addEventListener('click', () => {
        if (currentScreen < SCREENS.length - 1) showScreen(currentScreen + 1);
      });
    }

    function updateNavButtons() {
      if (prevBtn) prevBtn.disabled = currentScreen === 0;
      if (nextBtn) nextBtn.disabled = currentScreen === SCREENS.length - 1;
    }

    // SCREEN 1: Name Input
    const nameInput = document.getElementById('nameInput');
    const nameBtn = document.getElementById('nameBtn');
    const nameError = document.getElementById('nameError');

    nameInput.addEventListener('input', () => {
      const value = nameInput.value.trim();
      nameError.textContent = '';
      
      if (value.length > 0) {
        nameBtn.disabled = false;
        nameBtn.classList.add('primary');
      } else {
        nameBtn.disabled = true;
      }
    });

    nameInput.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' && !nameBtn.disabled) {
        nameBtn.click();
      }
    });

    nameBtn.addEventListener('click', () => {
      const value = nameInput.value.trim().toLowerCase();
      
      if (value === '–Ω–∞—Ç–∞') {
        document.getElementById('dnaCanvas').classList.add('active');
        setTimeout(() => {
          nextScreen();
        }, 500);
      } else {
        if (navigator.vibrate) navigator.vibrate([50, 50, 50]);
        nameBtn.classList.add('shake');
        setTimeout(() => nameBtn.classList.remove('shake'), 400);
        nameError.textContent = '–Ω—ñ, —Ü–µ–π —Å–∞–π—Ç –ª–∏—à–µ –¥–ª—è –µ—É–∫–∞—Ä—ñ–æ—Ç—ñ–≤, –ø–æ–¥—É–º–∞–π —â–µ';
      }
    });

    // SCREEN 2: Slider
    let sliderDragging = false;
    let sliderValue = 0;

    function initSlider() {
      const track = document.getElementById('sliderTrack');
      const thumb = document.getElementById('sliderThumb');
      const fill = document.getElementById('sliderFill');
      const btn = document.getElementById('sliderBtn');

      if (!track || !thumb || !fill || !btn) return;

      function updateSlider(clientX) {
        const rect = track.getBoundingClientRect();
        const x = Math.max(0, Math.min(clientX - rect.left, rect.width));
        const percent = (x / rect.width) * 100;
        
        sliderValue = percent;
        thumb.style.left = percent + '%';
        fill.style.width = percent + '%';
        
        if (percent > 10) {
          btn.disabled = false;
        }
      }

      thumb.addEventListener('mousedown', (e) => {
        sliderDragging = true;
        e.preventDefault();
      });

      track.addEventListener('click', (e) => {
        updateSlider(e.clientX);
      });

      document.addEventListener('mousemove', (e) => {
        if (sliderDragging) {
          updateSlider(e.clientX);
        }
      });

      document.addEventListener('mouseup', () => {
        sliderDragging = false;
      });

      btn.addEventListener('click', () => {
        logEvent("slider_next", {
          screen: "slider",
          value: sliderValue,
          details: { sliderValue }
        });

        nextScreen();
      });
    }

    // SCREEN 3: Questions
    function initQuestions() {
      const form = document.getElementById('questionsForm');
      const btn = document.getElementById('questionsBtn');
      
      function checkForm() {
        const inputs = form.querySelectorAll('input, textarea');
        let allFilled = true;
        
        inputs.forEach(input => {
          if (!input.value.trim()) {
            allFilled = false;
          }
        });
        
        btn.disabled = !allFilled;
      }
      
      form.addEventListener('input', checkForm);
      
      btn.addEventListener('click', () => {
        const fd = new FormData(form);
        const q1 = (fd.get('q1') || '').toString().trim();
        const q2 = (fd.get('q2') || '').toString().trim();
        const q3 = (fd.get('q3') || '').toString().trim();
        const q4 = (fd.get('q4') || '').toString().trim();
      
        logEvent("questions_next", {
          screen: "questions",
          details: { q1, q2, q3, q4 }
        });
        nextScreen();
      });
    }

    // SCREEN 4: Text Animation
    const TEXT_CONTENT = [
      "–ü—Ä–∏–≤—ñ—Ç! –°–ø–µ—Ä—à—É —è –¥—É–º–∞–≤ –¥–æ–¥–∞—Ç–∏ —Ç—É—Ç —Ç–µ—Å—Ç –Ω–∞ —è–∫—ñ—Å—å –∫—Ä—É—Ç—ñ —à—Ç—É–∫–∏ —ñ–∑ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏.",
      "–ü–æ—Ç—ñ–º —è –∑–≥–∞–¥–∞–≤, —è–∫ —Ç–∏ –∫–∞–∑–∞–ª–∞, —â–æ –Ω–º—Ç —Ä–æ–∑–≤'—è–∑–∞–ª–∞ —É—Å–Ω–æ, —ñ –≤–∏—Ä—ñ—à–∏–≤ —Ü—å–æ–≥–æ –Ω–µ —Ä–æ–±–∏—Ç–∏.",
      "–¢–∞–∫–æ–∂ —è —Ö–æ—Ç—ñ–≤ –¥–æ–¥–∞—Ç–∏ –∑–∞–¥–∞—á–∫–∏ –∑ –±—ñ–æ–ª–æ–≥—ñ—ó, –∞–ª–µ —â–æ–± –Ω–µ –ø–æ–∑–æ—Ä–∏—Ç–∏—Å—è –ø–µ—Ä–µ–¥ —Ç–≤–æ—ó–º–∏ –∑–Ω–∞–Ω–Ω—è–º–∏, –º–∏ —Ü–µ —Ç–µ–∂ –ø—Ä–æ–ø—É—Å—Ç–∏–º–æ.",
      "–ó–Ω–∞—î—à, —è –ø–∏—à–∞—é—Å—è —Ç–∏–º, —â–æ –∑–º—ñ–≥ –≤–º–æ–≤–∏—Ç–∏ —Å—Ö–æ–¥–∏—Ç–∏ –Ω–∞ —á–∞–π —Ç–∞–∫—É —â–∏—Ä—É, –µ—Ä—É–¥–æ–≤–∞–Ω—É, –¥–æ–±—Ä—É, –≥–∞—Ä–Ω—É –π —Ä–æ–∑—É–º–Ω—É –¥—ñ–≤—á–∏–Ω—É.",
      "–ë–µ–∑ –º–æ—î—ó —É—Å–º—ñ—à–∫–∏ —Ç—É—Ç –∑–≤—ñ—Å–Ω–æ –±–∏ –Ω–µ –æ–±—ñ–π—à–ª–æ—Å—è, –∞–ª–µ –º–∏ –Ω–µ –ø—Ä–æ —Ü–µ.",
      "–Ø –¥—É–∂–µ —Ä–∞–¥–∏–π, —â–æ –º–∏ –º–æ–∂–µ–º–æ –ª–µ–≥–∫–æ —Å–ø—ñ–ª–∫—É–≤–∞—Ç–∏—Å—è –æ–¥–Ω–µ –∑ –æ–¥–Ω–∏–º."
    ];

    function sleep(ms) {
      return new Promise(resolve => setTimeout(resolve, ms));
    }

    async function startTextAnimation() {
      const container = document.getElementById('textContainer');
      const screen = container.closest('.screen');
      container.innerHTML = '';
      
      for (let sentence of TEXT_CONTENT) {
        const words = sentence.split(' ');
        
        await sleep(2000);
        
        for (let word of words) {
          const span = document.createElement('span');
          span.className = 'word';
          span.textContent = word;
          container.appendChild(span);
          container.appendChild(document.createTextNode(' '));
          await sleep(250);
          
          screen.scrollTop = screen.scrollHeight;
        }
        
        const br = document.createElement('br');
        container.appendChild(br);
      }

      await sleep(2000);
      createLeaves();
      
      await sleep(2000);
      nextScreen();
    }

    function createLeaves() {
      const colors = ['#0b7a34', '#2d8e4f', '#4fa368'];
      for (let i = 0; i < 15; i++) {
        setTimeout(() => {
          const leaf = document.createElement('div');
          leaf.className = 'leaf';
          leaf.style.left = Math.random() * 100 + '%';
          leaf.style.top = '-50px';
          leaf.style.background = colors[Math.floor(Math.random() * colors.length)];
          leaf.style.animation = `leafFall ${3 + Math.random() * 2}s ease-in forwards`;
          document.body.appendChild(leaf);
          
          setTimeout(() => leaf.remove(), 5000);
        }, i * 300);
      }
    }

    // SCREEN 5: Camera
    async function startCameraCountdown() {
      const countdown = document.getElementById('cameraCountdown');
      const flash = document.getElementById('cameraFlash');
      
      for (let i = 7; i > 0; i--) {
        countdown.textContent = i;
        await sleep(1000);
      }
      
      countdown.textContent = 'üì∏';
      flash.classList.add('active');
      
      setTimeout(() => {
        flash.classList.remove('active');
        nextScreen();
      }, 300);
    }

    // SCREEN 6: Transition
    function showTransition() {
      const word = document.getElementById('transitionWord');
      setTimeout(() => {
        word.classList.add('show');
      }, 100);
      
      setTimeout(() => {
        nextScreen();
      }, 3000);
    }

    // SCREEN 7: Big Ask
    const yesBtn = document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');
    const toast = document.getElementById('toast');
    let noCount = 0;

    noBtn.addEventListener('click', () => {
      noCount++;
      logEvent("ask_no", {
        screen: "ask",
        value: noCount,
        details: { noCount }
      });

      noBtn.classList.add('shake');
      setTimeout(() => noBtn.classList.remove('shake'), 400);
      
      if (navigator.vibrate) navigator.vibrate([40, 30, 40]);
      
      toast.textContent = '–í–∏–±–∞—á—Ç–µ, –º–∏ —Ç–∞–∫–∏—Ö –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–µ –ø—Ä–∏–π–º–∞—î–º–æ üôÇ';
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), 2000);
    });

    yesBtn.addEventListener('click', () => {
      logEvent("ask_yes", { screen: "ask" });
      launchConfetti();
      setTimeout(() => {
        nextScreen();
      }, 1500);
    });

    function launchConfetti() {
      const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#f9ca24', '#6c5ce7', '#a29bfe'];
      for (let i = 0; i < 80; i++) {
        setTimeout(() => {
          const piece = document.createElement('div');
          piece.className = 'confetti-piece';
          piece.style.left = Math.random() * 100 + '%';
          piece.style.top = '-20px';
          piece.style.background = colors[Math.floor(Math.random() * colors.length)];
          piece.style.animation = `confettiFall ${2 + Math.random() * 2}s linear forwards`;
          document.body.appendChild(piece);
          
          setTimeout(() => piece.remove(), 4000);
        }, i * 20);
      }
    }

    // SCREEN 8: Pinata
    let pinataHits = 0;
    const MAX_HITS = 10;

    function initPinata() {
      const pinata = document.getElementById('pinata');
      const hitsDisplay = document.getElementById('pinataHits');
      const finalNext = document.getElementById('finalNext');
      const pinataContainer = document.querySelector('.pinata-container');

      if (!pinata || !hitsDisplay || !finalNext || !pinataContainer) return;
      
      pinata.addEventListener('click', () => {
        if (pinataHits >= MAX_HITS) return;
        
        pinataHits++;
        hitsDisplay.textContent = `–ó–∞–ª–∏—à–∏–ª–æ—Å—å: ${MAX_HITS - pinataHits}`;
        
        pinata.classList.add('cracked');
        setTimeout(() => pinata.classList.remove('cracked'), 300);
        
        launchSmallConfetti();
        
        if (pinataHits >= MAX_HITS) {
          setTimeout(() => {
            pinata.style.transform = 'scale(0) rotate(180deg)';
            pinata.style.opacity = '0';
            launchBigConfetti();
            hitsDisplay.textContent = 'üéâ –†–æ–∑–±–∏—Ç–æ! üéâ';
          }, 300);

          setTimeout(() => {
            pinataContainer.style.display = 'none';
          }, 800);

        }
      });
      
      finalNext.addEventListener('click', () => {
        logEvent("final_next", { screen: "final" });
        nextScreen();
      });
    }

    function launchSmallConfetti() {
      const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#f9ca24', '#6c5ce7', '#a29bfe'];
      for (let i = 0; i < 10; i++) {
        const piece = document.createElement('div');
        piece.className = 'confetti-piece';
        piece.style.left = '50%';
        piece.style.top = '50%';
        piece.style.background = colors[Math.floor(Math.random() * colors.length)];
        
        const angle = Math.random() * 360;
        const distance = 50 + Math.random() * 100;
        const tx = Math.cos(angle * Math.PI / 180) * distance;
        const ty = Math.sin(angle * Math.PI / 180) * distance;
        
        piece.style.animation = `confettiFall ${1 + Math.random()}s ease-out forwards`;
        piece.style.setProperty('--tx', tx + 'px');
        piece.style.setProperty('--ty', ty + 'px');
        
        document.body.appendChild(piece);
        setTimeout(() => piece.remove(), 2000);
      }
    }

    function launchBigConfetti() {
      const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#f9ca24', '#6c5ce7', '#a29bfe', '#ff8787', '#feca57'];
      for (let i = 0; i < 150; i++) {
        setTimeout(() => {
          const piece = document.createElement('div');
          piece.className = 'confetti-piece';
          piece.style.left = '50%';
          piece.style.top = '40%';
          piece.style.background = colors[Math.floor(Math.random() * colors.length)];
          
          const angle = Math.random() * 360;
          const distance = 100 + Math.random() * 300;
          const tx = Math.cos(angle * Math.PI / 180) * distance;
          const ty = Math.sin(angle * Math.PI / 180) * distance;
          
          piece.style.animation = `confettiFall ${2 + Math.random() * 2}s ease-out forwards`;
          piece.style.setProperty('--tx', tx + 'px');
          piece.style.setProperty('--ty', ty + 'px');
          
          document.body.appendChild(piece);
          setTimeout(() => piece.remove(), 4000);
        }, i * 10);
      }
    }

    // SCREEN 9: Quote
    const QUOTE = "8 BILLION SMILES AND ONLY YOURS BRIGHTENS ME UP";
    
    async function startQuote() {
      const quoteEl = document.getElementById('quoteText');
      quoteEl.innerHTML = '';
      
      const words = QUOTE.split(' ');
      
      for (let word of words) {
        await sleep(400);
        const span = document.createElement('span');
        span.className = 'word';
        span.textContent = word;
        quoteEl.appendChild(span);
        quoteEl.appendChild(document.createTextNode(' '));
      }
    }

    // DNA Canvas Animation
    const dnaCanvas = document.getElementById('dnaCanvas');
    const dnaCtx = dnaCanvas.getContext('2d');
    let dnaSequence = [];

    function initDNA() {
      dnaCanvas.width = window.innerWidth;
      dnaCanvas.height = window.innerHeight;
      
      for (let i = 0; i < 100; i++) {
        dnaSequence.push({
          x: Math.random() * dnaCanvas.width,
          y: Math.random() * dnaCanvas.height,
          value: Math.random() > 0.5 ? '1' : '0',
          speed: 1 + Math.random() * 2
        });
      }
      
      animateDNA();
    }

    function animateDNA() {
      dnaCtx.clearRect(0, 0, dnaCanvas.width, dnaCanvas.height);
      dnaCtx.font = '16px monospace';
      dnaCtx.fillStyle = 'rgba(17, 17, 17, 0.5)';
      
      dnaSequence.forEach(item => {
        dnaCtx.fillText(item.value, item.x, item.y);
        item.x += item.speed;
        
        if (item.x > dnaCanvas.width) {
          item.x = -20;
          item.y = Math.random() * dnaCanvas.height;
        }
      });
      
      requestAnimationFrame(animateDNA);
    }

    // Keyboard shortcuts
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') {
        const activeBtn = document.querySelector('.screen.active .btn.primary:not(:disabled)');
        if (activeBtn) activeBtn.click();
      }
    });

    // Initialize
    initDNA();
    updateProgress();
    logBoot();
  </script>
</body>
</html>
